# Фиды наличия товаров

## Описание

Передача отдельного фида с наличием товаров в интернет магазине / рознице, позволит IMSHOP.IO отображать в приложении актуальное наличие товаров, а также фильтровать товары по наличию в конкретном магазине \(функционал "я в магазине", если он доступен в вашем тарифном плане\)

{% hint style="info" %}
Помимо фидов наличия, IMSHOP.IO также поддерживает [API / webhook для проверки наличия товаров в реальном времени](../api/dopolnitelnye-integracii/availability.md) в момент изменения корзины, просмотра карточки товара и оформлении заказа. На наличие фида остатков позволит фильтровать товары по наличию в магазинах.
{% endhint %}

## Подключение

Для настройки синхронизации наличия товаров, необходимо передать следующие данные вашему личному менеджеру в IMSHOP.IO:

* URL, по которому можно скачать каталог товаров в описанном формате
* Логин/пароль, если требуется HTTP-авторизация для доступа к выгрузке товаров
* Желаемое время обновления фида остатков \(например, раз в 15 минут\)

## Пример

```markup
<?xml version="1.0" encoding="utf-8" ?>
<inventory>
    <outlets>
        <outlet id="1">
            <name>Интернет магазин</name>
            <city/>
            <address/>
            <subway/>
            <lat/>
            <lon/>
            <online>true</online>
        </outlet>
        <outlet id="2">
            <name>ТЦ Метрополис</name>
            <city>Москва</city>
            <address>Ленинградское ш., 16А, стр. 4</address>
            <subway>Войковская</subway>
            <lat>55.8225659</lat>
            <lon>37.4960903</lon>
            <online>false</online>
        </outlet>
    <outlets>
    <availability>
        <product
            id="1267868123"
            xmlId="31573df4-ddf4-11e9-8a34-2a2ae2dbcce4"
            barcode="659849528550"
            outlet="1"
            quantity="9"
            price="999"
        />
        <product
            id="1267868123"
            barcode="659849528550"
            outlet="2"
            quantity="18"
        />
    </availability>
</inventory>
```

## Описание формата

### outlets -&gt; outlet

Список магазинов

* **`id` \(аттрибут\)** - идентификатор магазина
* **`name`** - название
* **`city`** - город \(наименование города из ФИАС. Например "Москва" или "Санкт-Петербург"\)
* **`address`** - адрес
* **`subway`** - метро
* `lat` - широта
* `lon` - долгота
* `online` - является складом интернет-магазина \(**`true`** или **`false`**\)

### availability -&gt; product

Описание наличия одного товара для каждого магазина. Все свойства передаются как аттрибуты.

{% hint style="warning" %}
Даже если товара нет в наличии в магазине, рекомендуем передать запись для товара и магазина, с **`quantity`** равным **`0`**
{% endhint %}

* **`id`** - идентификатор товарного предложения \(**`id`** из YML фида\)
* **`xmlId`** \(опционально\) - идентификатор товара во внешней системе учета наличия на складах \(например в 1С\)
* **`barcode`** \(опционально\) - штрих-код
* **`outlet`** - идентификатор магазина из `outlets -> outlet`
* **`quantity`** - количество товарв в наличии в этом магазине

