# Отзывы на товары

{% hint style="danger" %}
Дополнительные интеграции вводятся в эксплуатацию после завершения основных интеграций:

* [Оформление заказа](../oformlenie-zakaza.-dostavki-oplaty/order.md)
* [Доставки](../oformlenie-zakaza.-dostavki-oplaty/deliveries.md)
* [Оплаты](../oformlenie-zakaza.-dostavki-oplaty/payments.md)

Для подключения дополнительных интеграций обратитесь к вашему менеджеру в IMSHOP.IO
{% endhint %}

## Получение отзывов на товар

### Формат запроса

* `id` - идентификатор товара в системе продавца (на сайте / в CRM итд)

```
{
    "id": "1234567890"
}
```

### Формат ответа

* `rating` - суммарный рейтинг отзывов по товару, от 1 до 5
* `reviews` - список отзывов
  * `id` - id отзыва (string), необязательно, но необходимо для функционала лайков/дизлайков отзыва (в разработке)
  * `positiveReviews` - кол-во позитивных оценок отзыва, необязательно (в разработке)
  * `negativeReviews` - кол-во негативных оценок отзыва, необязательно (в разработке)
  * `text` - текст отзыва, обязательно наличие либо текста либо картинок
  * `author` - автор, обязательное поле
  * `date` - дата отзыва, в формате YYYY-MM-DDTHH:MM, обязательное поле по гринвичу (UTC / GMT +0)
  * `title` - (опционально), заголовок отзывы
  * `rating` - (опционально), рейтинг отзыва по шкале от 1 до 5
  * `pictures` (опционально) - массив картинок отзыва
    * `src` - веб-ссылка на картинку

#### Пример ответа

```javascript
{
    "rating": "1.7",
    "reviews": [
      {
        "author": "Jake",
        "date": "2020-04-25T08:30",
        "title": "Lorem ipsum",
        "text": "Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.",
        "pictures": [
          { "src": "https://pmdn.sokolov.io/pics/F7/A5/84C379E76E8EE97A3B23EBE39DE4.jpg" },
        ],
        "rating": 3
      }
    ]
}
}
```

## Сохранение нового отзыва

### Формат запроса

* **`item`** - идентификатор товара
* **`rating`** - число-рейтинг
* **`name`** - имя, которым представился покупатель
* **`comment`** - текст отзыва
* **`userId`** - идентификатор пользователя, если он авторизован в приложении, или `null`

### Дополнительные поля

По согласованию с менеджером, в форму отправки отзыва можно добавить любые произвольные текстовые поля, и задать им любые идентификаторы. Например "Преимущества" и "Недостатки" с идентификаторами `pros` и `cons` сообветственно. Дополнительные поля могуть быть как обязательными, так и опциональными.

**Пример запроса**

```javascript
{
    "item": "67128736",
    "userId": "1122334455",
    "name": "Иван Иванов",
    "comment": "В реальности кажется более вместительным, чем на фото. Отличный материал. За такую цену - просто подарок.",
    "rating": 5,
    "pros": "Цена. Надо брать",
    "cons": "После установки первые несколько часов сильно шумел"
}
```

### Формат ответа:

* `success` - true / false. Принят ли отзыв в обработку

**Пример ответа**

```javascript
{
    "success": true
}
```
