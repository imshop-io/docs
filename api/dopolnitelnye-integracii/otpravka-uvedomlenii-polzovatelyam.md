---
description: функционал находится в разработке
---

# Отправка уведомлений пользователям

{% hint style="info" %}
**Данная интеграция является API. То есть запрос идет в систему Imshop.**

Для получения URL обратитесь к вашему менеджеру
{% endhint %}

{% hint style="danger" %}
Дополнительные интеграции вводятся в эксплуатацию после завершения основных интеграций:

* [Оформление заказа](../oformlenie-zakaza.-dostavki-oplaty/order.md)
* [Доставки](../oformlenie-zakaza.-dostavki-oplaty/deliveries.md)
* [Оплаты](../oformlenie-zakaza.-dostavki-oplaty/payments.md)

Для подключения дополнительных интеграций обратитесь к вашему менеджеру в IMSHOP.IO
{% endhint %}

## Запрос

### Описание формата

* **`userIds`** - (строковый массив) идентификаторы покупателей в вашей системе. В их качестве также могут выступать номера телефонов без форматирования
* **`message`** - объект сообщения с двумя обязательными полями
  * **`title`** - заголовок уведомления
  * **`summary`** - текст уведомления
* **`deeplink`** - (опционально) диплинк, по которому будет осуществлён переход после запуска приложения, при старте через пуш-уведомление

### Пример

```javascript
{
    "userIds": [
        "79999999999"
    ],
    "message": {
      "title": "Заголовок уведомления",
      "summary": "Сообщение пользователю"
    },
    "deeplink": "slug://browse"
}
```

## Ответ

### Описание формата

* **`success`** - флаг успешного выполнения
* **`error`** - текст сообщения об ошибке, если запрос не удалось завершить корректно.
* **`message`** - дополнительный текст сообщения об ошибке, если запрос завершился с кодом статуса, отличающимся от `200`. При неверно заданных параметрах, здесь будут перечислены недостающие поля и/или ожидания по их формату

### Примеры

```javascript
{
    "success": true
}
```

```javascript
{
    "success": false,
    "error": "Integration is unavailable"
}
```

```javascript
{
    "error": "Bad Request",
    "message": "child \"userIds\" fails because [\"userIds\" must be an array]"
}
```
