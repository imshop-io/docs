# Учётная запись пользователя. Авторизация. История заказов

{% hint style="danger" %}
Дополнительные интеграции вводятся в эксплуатацию после завершения основных интеграций:

* [Оформление заказа](../../oformlenie-zakaza.-dostavki-oplaty/order.md)
* [Доставки](../../oformlenie-zakaza.-dostavki-oplaty/deliveries.md)
* [Оплаты](../../oformlenie-zakaza.-dostavki-oplaty/payments.md)

Для подключения дополнительных интеграций обратитесь к вашему менеджеру в IMSHOP.IO
{% endhint %}

## Авторизация

{% hint style="info" %}
Для подключения авторизации и интеграций с программой лояльности обратитесь к вашему менеджеру в IMSHOP.IO
{% endhint %}

Пользователь мобильного приложения может быть авторизован и сопоставлен с пользователем в вашей системе. 

Мы можем идентифицировать пользователя, отправив ему одноразовый **пароль в SMS** или в **email-сообщении**, а также по паре **логин** + **пароль**. 

В случае успешного подтверждения в мобильное приложение приходит базовая информация для оформления заказов \(имя, телефон, адрес электропочты\), и любая другая информация о человеке. Например, количество накопленных баллов в программе лояльности, или сегменты пользователя. Также появляется возможность синхронизировать [историю заказов ](order-history.md)с, например, историей заказов на сайте.

![&#x41C;&#x43E;&#x431;&#x438;&#x43B;&#x44C;&#x43D;&#x43E;&#x435; &#x43F;&#x440;&#x438;&#x43B;&#x43E;&#x436;&#x435;&#x43D;&#x438;&#x435;, &#x441;&#x435;&#x440;&#x432;&#x435;&#x440; IMSHOP.IO, &#x432;&#x430;&#x448;&#x430; &#x438;&#x43D;&#x444;&#x440;&#x430;&#x441;&#x442;&#x440;&#x443;&#x43A;&#x442;&#x443;&#x440;&#x430;](../../../.gitbook/assets/unknown.png)

Выбор механизма аутентификации зависит от вас, однако мы рекомендуем использовать **вход по SMS-сообщению**, т.к. этот способ наиболее дружелюбен и наименее трудозатратен с точки зрения пользователя.

{% hint style="info" %}
**Регистрация**

IMSHOP.IO не поддерживает «классическую» регистрацию, когда человек вводит текст в кучу полей при помощи мелких кнопок наэкранной клавиатуры.

Мы не разделяем «регистрацию» и «авторизацию». В случае входа по SMS-сообщению вы получаете «живой», действующий номер телефона потенциального покупателя. Это — уже готовая учётная запись, в которой появится имя и прочая информация во время оформления заказа.
{% endhint %}

Если выбран вход посредством SMS или email-сообщения, существует два варианта реализации этой интеграции:

1. Отправка одноразового пароля — должна быть реализована с вашей стороны; вы сами интегрируетесь с SMS- или email-шлюзом, а наша задача — [передать](otp.md) вам номер телефона/email, а затем одноразовый пароль, который введёт пользователь
2. Отправка одноразового пароля — наша ответственность; мы сами удостоверимся, что пользователь является владельцем введенного номера телефона или почтового ящика; от вас потребуются только [данные профиля](user.md#zapros-dannykh-polzovatelya-po-identifikatoru)

![&#x421;&#x446;&#x435;&#x43D;&#x430;&#x440;&#x438;&#x439; 2: &#x43E;&#x442;&#x43F;&#x440;&#x430;&#x432;&#x43A;&#x430; &#x43E;&#x434;&#x43D;&#x43E;&#x440;&#x430;&#x437;&#x43E;&#x432;&#x43E;&#x433;&#x43E; &#x43F;&#x430;&#x440;&#x43E;&#x43B;&#x44F; &#x2014; &#x43D;&#x430;&#x448;&#x430; &#x43E;&#x442;&#x432;&#x435;&#x442;&#x441;&#x442;&#x432;&#x435;&#x43D;&#x43D;&#x43E;&#x441;&#x442;&#x44C;](../../../.gitbook/assets/getuserdata.png)

При любом сценарии дополнительно к аутентификации потребуется [метод получения данных пользователя](user.md#zapros-dannykh-polzovatelya-po-identifikatoru) \(«**Get User Data**» на диаграмме\). Этот метод нужен для того, чтобы передать в мобильное приложение актуальную информацию в случае, когда пользователь отредактировал свою учётную запись вне приложения. Например, пользователь мог изменить имя через сайт, и требуется, чтобы это имя подтянулось в мобильное приложение.



