# Персональные предложения

{% hint style="danger" %}
Дополнительные интеграции вводятся в эксплуатацию после завершения основных интеграций:

* [Оформление заказа](../oformlenie-zakaza.-dostavki-oplaty/order.md)
* [Доставки](../oformlenie-zakaza.-dostavki-oplaty/deliveries.md)
* [Оплаты](../oformlenie-zakaza.-dostavki-oplaty/payments.md)

Для подключения дополнительных интеграций обратитесь к вашему менеджеру в IMSHOP.IO
{% endhint %}

## Получение списка индивидуальных предложений

{% hint style="info" %}
Для подключения обратитесь к вашему личному менеджеру в IMSHOP
{% endhint %}

### Формат запроса

* `userId` - идентификатор пользователя в системе продавца \(на сайте / в CRM итд\)
* `segments` - список сегментов, в которые добавлен пользователь на стороне IMSHOP
  * `id` - идентификатор сегмента
  * `name` - название сегмента

#### Пример запроса

```javascript
{
    "userId": "1234567890",
    "segments": [
        { "id": "PEREKRESTOR-BUYER", "name": "Пользователи, установившие приложение по флаеру в Перекрестке" },
        { "id": "SALES", "name": "Пользователи, покупающие только на распродажах" }
    ]
}
```

### Формат ответа

* `offers` - список предложений
  * `id` - идентификатор предложения
  * `name` - название
  * `description` - описание
  * `promocode` - промокод
  * `online` - промокод может быть применен в приложении
  * `offline` - промокод может быть предъявлен в рознице
  * `used` \(опционально\) - `true` / `false` - предложение было использовано
  * `expirationTimestamp` - таймштамп, когда истекает срок действия предложения \(`null` - если предложение не имеет срока действия\)

#### Пример ответа

```javascript
{
    "offers": [
        {
            "id": "IPAD-PROMO",
            "name": "Скидка 10000 рублей по промокоду при покупке iMac",
            "description": null,
            "promocode": "IMAC10-AJWED1",
            "online": true,
            "offline": false,
            "expirationTimestamp": 1586459114
        }
    ]
}
```

