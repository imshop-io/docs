# Разработка нативных модулей

{% hint style="danger" %}
**IMSHOP Retail Protocol (IRP)** является объектом интеллектуальной собственности ООО «АЙ ЭМ СОЛЮШНЗ» (IMSHOP) и защищён как объект авторского права. Свидетельство о депонировании произведения № 023-014461 от 16 января 2023 г. подтверждает исключительные права ООО «АЙ ЭМ СОЛЮШНЗ» на данные технологии.

IMSHOP Retail Protocol создан по заказу ООО «АЙ ЭМ СОЛЮШНЗ». Использование IMSHOP Retail Protocol допустимо только при взаимодействии с ООО "АЙ ЭМ СОЛЮШНЗ" и наличии действующего лицензионного договора. Более подробно можно ознакомиться [здесь](../api-license.md).
{% endhint %}

Разработка нативных модулей IMSHOP.IO позволяет внедрять модули, разработанные сторонними командами, для расширения функционала приложения. Например, при помощи нативных модулей можно добавить новые системы аналитики, новые экраны и сценарии использования, или подключение к bluetooth устройствам.Обратитесь к вашему менеджеру IMSHOP для оценки интеграции и поддержки сторонних модулей

## Требования к нативным модулям <a href="#trebovaniya-k-nativnym-modulyam" id="trebovaniya-k-nativnym-modulyam"></a>

### Требования к технологиям и версиям <a href="#trebovaniya-k-tekhnologiyam-i-versiyam" id="trebovaniya-k-tekhnologiyam-i-versiyam"></a>

* Модуль должен быть доступен в качестве React Native библиотеки. Библиотека должна быть доступна как npm-пакет и устанавливаться через **`npm`** / **`yarn`**
* Если библиотека использует нативные зависимости, эти зависимости либо должны быть включены в npm-пакет, либо доступны для установки через **`cocoapods` / `maven`** (или другой java репозиторий)
* iOS код должен собираться без добавления **`use_frameworks!`** в **`Podfile`**
* Библиотеки должны поддерживать auto-linking для всех нативных зависимостей
* Библиотека должна быть совместима с последней версией React Native на момент ее публикации / внедрения
* Если библиотека использует нативные iOS зависимости, они должны быть совместимы с последней версией swift и iOS SDK
* Если библиотека использует нативные Android зависимости, они должны быть совместимы с android sdk, build tools, support lib используемыми в последней версии React Native на момент публикации. Зависимости также должны быть совместимы с актуальными версиями Google Services на момент публикации
* Поддержка iOS: 12+
* Поддержка Android: 9+
* Библиотека и зависимости должны своевременно обновляться для поддержки новых версий библиотек и операционных систем

### Прочие требования <a href="#prochie-trebovaniya" id="prochie-trebovaniya"></a>

* Библиотеки не должны иметь свой отдельный стен навигации. Если библиотека должна использовать навигацию между экранами, приложение должно экспортировать фрагмент **`<>`** со всеми **`<Stack.Screen>`** которые будут инжектированы в навигационный стек основного приложения
* Каждый компонент, который будет использоваться в приложении, должен быть экспортирован
* Добавление библиотеки не должно увеличивать размер приложения более чем на 10мб
* При запуске приложения, библиотека не должна скачивать внешние ресурсы более чем на 4мб
* Библиотека не должна использовать механизмы принудительной авторизации / регистрации по email или номеру телефона. Для интеграции в стек авторизации, проконсультируйтесь с вашим менеджером в IMSHOP.IO
