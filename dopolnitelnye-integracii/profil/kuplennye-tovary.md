# Купленные товары

{% hint style="danger" %}
**IMSHOP Retail Protocol (IRP)** является объектом интеллектуальной собственности ООО «АЙ ЭМ СОЛЮШНЗ» (IMSHOP) и защищён как объект авторского права. Свидетельство о депонировании произведения № 023-014461 от 16 января 2023 г. подтверждает исключительные права ООО «АЙ ЭМ СОЛЮШНЗ» на данные технологии.

IMSHOP Retail Protocol создан по заказу ООО «АЙ ЭМ СОЛЮШНЗ». Использование IMSHOP Retail Protocol допустимо только при взаимодействии с ООО "АЙ ЭМ СОЛЮШНЗ" и наличии действующего лицензионного договора. Более подробно можно ознакомиться [здесь](../../api-license.md).
{% endhint %}

Для авторизованного пользователя доступна история купленных товаров.

## Запрос

`APP SERVER → INFRASTRUCTURE`

{% hint style="info" %}
От вас потребуется URL, на который наш сервер будет слать **POST**-запрос. Да, мы _запрашиваем_ данные через _POST_, а не через _GET_.
{% endhint %}

В вашу систему будут приходить вот такие данные:

```json
{
    "userIdentifier": "12345",
    "page": 1
}
```

* **`userIdentifier`** — идентификатор пользователя (обязательное поле), полученный от системы клиента на этапе авторизации
* **`page`** – номер текущей страницы. Вы сами определяете размер отдаваемой страницы

**Ответ:**

```json
{
    "nextPage": 2,
    "itemsIds": ["750627", "786936"]
}
```

* **`itemsIds`** — идентификаторы товаров в вашей системе (обязательное поле)
* **`nextPage`** — номер следующей страницы истории заказов

{% hint style="info" %}
Обратите внимание на параметр **nextPage.** Это номер следующей страницы истории заказов. **nextPage** должен быть целым числом. Если параметр **nextPage** отсутствует или является, например, `false`, `null`, `undefined`, то запрос на получения следующей страницы выполнен не будет.&#x20;
{% endhint %}
