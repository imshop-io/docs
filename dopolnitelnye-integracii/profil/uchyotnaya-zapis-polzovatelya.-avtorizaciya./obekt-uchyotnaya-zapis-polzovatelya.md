# Объект «Учётная запись пользователя»

{% hint style="danger" %}
Мы работаем только через **POST**-запросы
{% endhint %}

Объект «Учётная запись пользователя» используется для передачи в IMSHOP.IO информации о пользователе.

## Пример:

```json
{
    "user":
    {
        "age": 35,
        "birthday": "1986-12-24",
        "bonuses": 10000,
        "cardColor": "#000000",
        "cardNumber": "456123789",
        "cardPercent": 5,
        "cardBackgroundImage": "http://example.com/image.jpg",
        "cardTextColor": "00000",
        "email": "ivanov@mail.com",
        "emailConfirmed": true,
        "entrepreneurIdList":
        [
            {
                "id": "ivanov",
                "name": "ИП Иванов"
            },
            {
                "id": "1234567890",
                "name": "ООО «Рога и копыта»"
            }
        ],
        "expressBonuses": 500,
        "exressBonusesTitle": "Экспресс-бонусы",
        "gender": "male",
        "id": "123",
        "loyaltyProgram":
        {
            "backgroundColor": "gold",
            "backgroundImage": "http://example.com/image.jpg",
            "currentLevelTitle": "Золотой уровень",
            "nextLevelDescription": "Совершите покупку на 1000 рублей до уровня Платиновый",
            "profitDescription": "Cashback до 20% с каждой покупки",
            "progress": 60,
            "progressBarBackroundColor": "white",
            "progressBarColor": "black",
            "textColor": "black"
        },
        "name": "Иванов Иван",
        "pendingBonuses": 1000,
        "pendingBonusesTitle": "Будет накоплено",
        "phone": "71234567890",
        "profileLinks":
        [
            {
                "icon": "https://icon.png",
                "section": "help",
                "title": "Анкета бега",
                "url": "https://google.com"
            }
        ],
        "segments":
        [
            "registered",
            "loyal"
        ],
        "status": "Золотая карта",
        "units": "бонусов"
    }
}
```



### Значения полей:

**Идентификатор учётной записи.**

Обязательное поле. Во всех запросах и везде, где фигурирует идентификатор пользователя — используется значение этого поля.&#x20;

По историческим причинам на момент написания этой страницы в разных запросах название поля может разниться. В интеграциях оформления заказа ([Оформление заказа](broken-reference), [Доставки](broken-reference) и [Оплаты](broken-reference)) это **`externalUserId`**, в [История заказов](broken-reference) это **`userIdentifier`**.

* **`id`**  — идентификатор учётной записи, строка

**Страница пользователя в мобильном приложении.**

На экране профиля отображается ключевая информация — имя, телефон и адрес электропочты. Значения этих полей используются при оформлении заказа, но всё равно будут проходить дополнительную валидацию. Так, если с данными учётной записи пришёл номер телефона из семи цифр — пользователю придётся вносить в него правки.

* **`name`** — имя пользователя
* **`phone`** — телефон пользователя, строка, только цифры
* **`email`** — адрес электропочты

**Сегменты.**

Используются при формировании главного экрана — витрины приложения. Пользователь будет видеть только те баннеры, которые соответствуют его сегментам.&#x20;

* **`segments`** — сегменты пользователя, массив строк

**Лояльность. Количество доступных бонусов.**

Если пользователь участвует в накопительной программе лояльности, баланс его бонусов может выводиться у него на экране профиля.

* **`bonuses`** — количество бонусов на счету, число
* **`units`** — единицы бонусов («бонусов», «рублей» и пр.)

**Лояльность. Расширенная информация.**

Дополнительно поддерживается вывод следующей информации:

* **`cardNumber`** — номер карты лояльности, строка (необязательное поле)
* **`cardPercent`** - (в разработке, необязательное), процент от цены для расчета бонусов при покупке товара, например, для отображения на карточке товара
* **`cardBackgroundImage`** - фон карты лояльности в виджете на главном экране (необязательное поле)
* **`pendingBonuses`** — будущие бонусы после подтверждения покупки, число (необязательное поле)
* **`pendingBonusesTitle`** — название будущих бонусов, строка (необязательное поле)
* **`expressBonuses`** — экспресс-бонусы, число (необязательное поле)
* **`expressBonusesTitle`** — название экспресс-бонусов, строка (необязательное поле)
* **`loyaltyProgram`** — программа лояльности (необязательное поле)
  * **`currentLevelTitle`** — название текущего уровня лояльности (необязательное поле)
  * **`progress`** — прогресс уровня лояльности в прогрессбаре, 0 – 100 (необязательное поле)
  * **`profitDescription`** — описание текущего уровня лояльности (необязательное поле)
  * **`nextLevelDescription`** — описание следующего уровня лояльности (необязательное поле)
  * **`backgroundColor`** — фоновый цвет блока программы лояльности (необязательное поле)
  * **`backgroundImage`** - фон карты лояльности в виджете на главном экране (необязательное поле)
  * **`progressBarColor`** — цвет прогресса в прогрессбаре (необязательное поле)
  * **`progressBarBackgroundColor`** — фоновый цвет прогрессбара (необязательное поле)
  * **`textColor`** — цвет текста блока программы лояльности (необязательное поле)

**Вспомогательная информация о пользователе.**

* **`age`** — возраст, число
* **`gender`** — гендер, строка
* **`birthday`** — дата рождения, **`YYYY-MM-DD`**
* **`emailConfirmed`** — статус верификации почты пользователя (опционально)

**Пользователь — юридическое лицо.**

Если пользователь мобильного приложения может совершать покупки в качестве юридического лица, при входе ему предлагается «список личностей». Выбранное юридическое лицо далее передаётся в интеграции пересчёта корзины, доставок, оплат и оформления заказа в поле **`entrepreneurId`**.

* **`entrepreneurIdList`** — список юридических лиц, доступных пользователю, массив
  * **`id`** — идентификатор юридического лица
  * **`name`** — название юридического лица

**Персональные ссылки-кнопки на экране профиля**

* **`profileLinks`**
  * **`title`** - обязательно, заголовок кнопки-ссылки
  * **`url`** - обязательно, веб ссылка/deeplink при нажатии на кнопку
  * **`section`** - необязательно, группа кнопок, **`help`** или **`account`**
  * **`icon`** - необязательно, веб-ссылка на png иконку

**Виджет карты лояльности**

Для виджета карты лояльности на главном экране можно задать фоновое изображение. Для этого необходимо передать **`cardBackgroundImage`** в объкте **`user`** или **`backgroundImage`** внутри блока **`loyaltyProgram`**. Приоритетнее будет ссылка внутри блока **`loyaltyProgram`**
