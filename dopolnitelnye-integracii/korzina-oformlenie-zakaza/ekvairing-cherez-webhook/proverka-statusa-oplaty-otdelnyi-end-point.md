# Проверка статуса оплаты (отдельный end point)

{% hint style="danger" %}
Мы работаем только через **POST**-запросы
{% endhint %}

### Отображение статуса платежа и списания средств в приложении (кнопка "повторить оплату")

{% hint style="warning" %}
Если в хуке эквайринга вы не можете поддерживать проверку статуса оплаты то вы можете использовать этот метод на отдельном end поинте.
{% endhint %}

### **Пример запроса**

```json
{
    "command": "capture",
    "paymentMethodId": "sberbank/card",
    "paymentId": "7d0567f9-bf37-4e84-9580-86b68b8a0e81"
}
```

* **`command`** - запрос на проведение платежа и проверку факта списания (`capture`)
* **`paymentMethodId`** - выбранный покупателем способ оплаты. Берется из ответа [webhook получения способов оплат](../../../osnovnye-integracii/oplaty.md)
* **`paymentId`** - Идентификатор платежа

### **Пример ответа**

```json
{
    "success": true,
    "paymentId": "7d0567f9-bf37-4e84-9580-86b68b8a0e81",
    "paymentCaptured": true
}
```

* **`success`** - флаг успеха **`true`** / **`false`**
* **`paymentId`** - идентификатор платежа
* **`paymentCaptured`** - деньги успешно списаны
* **`error`** - текст ошибки если **`success`** = **`false`**
