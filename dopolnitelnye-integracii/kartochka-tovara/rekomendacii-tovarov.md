# Рекомендации товаров

{% hint style="danger" %}
Дополнительные интеграции вводятся в эксплуатацию после завершения основных интеграций:

* [Оформление заказа](../../osnovnye-integracii/oformlenie-zakaza.md)
* [Доставки](../../osnovnye-integracii/dostavki.md)
* [Оплаты](../../osnovnye-integracii/oplaty.md)

Для подключения дополнительных интеграций обратитесь к вашему менеджеру в IMSHOP.IO
{% endhint %}

## Запрос

`APP SERVER → INFRASTRUCTURE`

{% hint style="info" %}
От вас потребуется URL, на который наш сервер будет слать **POST**-запрос. Да, мы _запрашиваем_ данные через _POST_, а не через _GET_.
{% endhint %}

В вашу систему будут приходить вот такие данные:

```javascript
{
      "privateId": "12345",
      "userIdentifier": "qwerty12345",
      "location": {
        "city": "Москва",
        "cityFiasId": "0c5b2444-70a0-4932-980c-b4dc0d3f02b5",
        "region": "Москва",
        "regionFiasId": "0c5b2444-70a0-4932-980c-b4dc0d3f02b5"
    }
}
```

* **`privateId`** — id товара \*
* **`userIdentifier`** — external id  (идентификатор пользователя в системе клиента)
* **`location`** — локация пользователя, объект «[Местоположение](../../obekt-mestopolozhenie.md)»

### Ответ

Массив с объектами

**`ids`** - массив с id товарами

**`title`** - Название для отдела с товарами

**`type`** (опционально) - Тип блока рекомендаций; см. раздел Upsale.

#### Пример ответа

```javascript
[{ ids: ["12345"], title: "Покупают вместе с этим" }]
```

## Upsale (в разработке)

При добавлении товара в корзину через карточку товара, пользователю можно показать несколько релевантных предложений (аксессуаров). Для этого в массив рекомендаций нужно добавить объект с `type` "`upsale`" (`title` в нём задавать не требуется).

#### Пример ответа

```javascript
[
    { ids: ["01234", "54321"], type: "upsale" },
    { ids: ["12345", "98765"], title: "Покупают вместе с этим" }
]
```
