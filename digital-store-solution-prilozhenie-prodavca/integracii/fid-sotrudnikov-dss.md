# Фид сотрудников dss

{% hint style="info" %}
Данный фид создается на стороне клиента (например, с помощью ЗУП). Продакту IMSHOPa клиент передает ссылку на данный фид, а также логин и пароль для доступа к нему(при наличии).
{% endhint %}

{% hint style="warning" %}
Чтобы заблокировать/удалить продавца, который больше не работает, достаточно не передавать его данные в фиде, после перепарсинга его учетная запись станет неактивной.
{% endhint %}

## Описание дополнений формата от IMSHOP.IO и примеры

### Общая структура фида (пример)

```markup
<?xml version="1.0" encoding="UTF-8"?>
<accounts>
	<shops>
		<shop shopId="...">
			<name>...</name>
			<city>...</city>
		</shop> 
		...
	</shops>
	<users>
		<user ...>...</user>
		...
	</users>
</accounts>

```

### Описание формата

#### **shops -> shop (атрибуты)**

* **`shopId`** - **обязательный атрибут**. Любой Id для сопоставления продавца и магазина, любой Id в системе клиента. Данный shopId не пересекается с shopId из фида наличия товаров, нужен для сопоставления продавцов и магазина, в котором они работают.

#### **shops -> shop (дочерние элементы)**

* **`name`** - наименование магазина **обязательный элемент**)
* **`city`** - название города **обязательный элемент**)

#### **users -> user (атрибуты)**

* **`id` -** идентификатор продавца в системе клиента (**обязательный атрибут**)
* **`taxID` -** инн, чтобы бухгалтерам было проще вести учетные записи (**необязательный атрибут**)
* **`password` -** пароль для сотрудника для входа в приложение продавца. В качестве пароля - удобно завести последние N цифры паспорта или телефона продавца. (**обязательный атрибут**)
* **`shopID` -** это идентификатор магазина, в котором этот продавец работает, сопоставляем по shopId из shops. С помощью данного параметра продавец сможет выбрать магазин, в котором он работает и просматривать заявки только для этого магазина (**обязательный атрибут**)
* **`role`** - роль продавца в магазине: admin/basic. ни на что не влияет, нужна для удобства клиента и отслеживания метрик (**необязательный атрибут**)
* **`phone` -** телефон продавца (**необязательный атрибут**)

#### **users -> user (дочерние элементы)**

* имя продавца (**обязательный элемент**)[^1]

```xml
<user>ИМЯ ПРОДАВЦА</user>
```

### Пример фида

```xml
<?xml version="1.0" encoding="UTF-8"?>
<accounts>
  <shops>
    <shop shopId="1">
      <name>Choupette в ТРЦ Фестиваль</name>
      <city>Москва</city>
    </shop>
    <shop shopId="2">
      <name>Choupette в ТРЦ Афимолл Сити</name>
      <city>Москва</city>
    </shop>
    <shop shopId="3">
      <name>ОФИС</name>
      <city>Москва</city>
    </shop>
  </shops>
  <users>
    <user id="12901" taxId="**" password="**" shopID="1" role="admin">Имя Продавца</user>
    <user id="12902" taxId="**" password="**" shopID="1" role="basic">Имя Продавца</user>
    <user id="12903" taxId="**" password="**" shopID="1" role="basic">Имя Продавца</user>
    <user id="12904" taxId="**" password="**" shopID="1" role="basic">Имя Продавца</user>
    <user id="12905" taxId="**" password="**" shopID="1" role="basic">Имя Продавца</user>
    <user id="12906" taxId="**" password="**" shopID="2" role="basic">Имя Продавца</user>
    <user id="12907" taxId="**" password="**" shopID="2" role="basic">Имя Продавца</user>
    <user id="12908" taxId="**" password="**" shopID="2" role="basic">Имя Продавца</user>
  </users>
</accounts>
```

####

[^1]: 
